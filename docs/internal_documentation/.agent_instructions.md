# Agent Instructions for Internal Documentation

**âš ï¸ IMPORTANT**: All AI agents working on this project MUST follow these guidelines.

---

## ğŸ“‹ Quick Rules

1. **Before creating ANY new document**: Search existing docs in all WIP folders
2. **When starting work**: Create or update plan in `WIP/to_do/`
3. **When completing work**: Move plan to `WIP/completed/` immediately
4. **When brainstorming**: Create proposals in `WIP/ideas/`
5. **Always update status**: Keep status markers current (âœ…, ğŸš§, ğŸ“‹, ğŸ’¡)

---

## ğŸ—‚ï¸ Folder Rules

### `WIP/completed/`
**When to use**: Work is 100% done, code is committed, tests pass
**Examples**: Finished implementation plans, completed audits, resolved bugs
**Don't move here if**: Any TODO items remain, code not yet merged

### `WIP/to_do/`
**When to use**: Active work, planned features, bugs being investigated
**Examples**: Implementation plans in progress, analysis reports for current issues
**Don't move here if**: It's just an idea without commitment to implement

### `WIP/ideas/`
**When to use**: Proposals, explorations, future enhancements, "nice to have" items
**Examples**: Performance ideas, architectural improvements, platform expansions
**Don't move here if**: Work is already scheduled/in progress

---

## ğŸ“ Document Lifecycle

```
NEW IDEA â†’ WIP/ideas/ (ğŸ’¡ IDEA)
    â†“ (when prioritized)
WIP/to_do/ (ğŸ“‹ PLANNED)
    â†“ (when work starts)
WIP/to_do/ (ğŸš§ IN PROGRESS)
    â†“ (when complete)
WIP/completed/ (âœ… COMPLETED)
```

---

## ğŸ¯ Mandatory Behaviors

### Starting New Work

```python
# Pseudocode for agent behavior
def start_new_work(feature_request):
    # 1. Search existing docs
    search("WIP/to_do/", feature_request)
    search("WIP/completed/", feature_request)  # Check prior art
    search("WIP/ideas/", feature_request)      # Check if already proposed
    
    # 2. Create or update plan
    if existing_plan_found:
        update_status("ğŸš§ IN PROGRESS")
        add_implementation_notes()
    else:
        create_plan_in("WIP/to_do/")
        set_status("ğŸš§ IN PROGRESS")
    
    # 3. Begin implementation
    work_on_feature()
```

### Completing Work

```python
def complete_work(plan_file):
    # 1. Update final status
    update_header(plan_file, status="âœ… COMPLETED", date=today())
    
    # 2. Verify all items checked
    assert all_items_completed(plan_file)
    
    # 3. Move file
    move(plan_file, from="WIP/to_do/", to="WIP/completed/")
    
    # 4. Update changelog
    update_changelog_with_user_facing_changes()
    
    # 5. Commit
    commit_message = f"feat: Implement {feature} (closes #{plan_file})"
```

### Recording Ideas

```python
def record_idea(idea):
    # 1. Create proposal
    create_file(f"WIP/ideas/{idea}_PROPOSAL.md")
    
    # 2. Set status
    set_status("ğŸ’¡ IDEA")
    
    # 3. Document why it matters
    include_section("Why This Matters")
    include_section("Potential Challenges")
    include_section("Estimated Effort")
```

---

## âœ… Status Markers - Required Usage

**ALWAYS** include one of these in document headers:

- âœ… `COMPLETED` - All work done, code merged
- ğŸš§ `IN PROGRESS` - Currently being worked on
- ğŸ“‹ `PLANNED` - Ready to start, not yet begun
- ğŸ’¡ `IDEA` - Proposal, not yet committed
- ğŸ“š `REFERENCE` - Living doc, no completion state
- ğŸ”´ `BLOCKED` - Waiting on dependencies
- â¸ï¸ `PAUSED` - Deprioritized

Example header:
```markdown
# Feature Implementation Plan

**Status**: ğŸš§ IN PROGRESS
**Priority**: HIGH
**Created**: 2026-01-26
**Target Version**: v0.3.0
```

---

## ğŸ” Document Search Strategy

Before creating new docs, search with these patterns:

```bash
# Search for existing plans
grep -r "IMPLEMENTATION_PLAN" WIP/
grep -r "{YOUR_TOPIC}" WIP/

# Search for completed work
grep -r "âœ… COMPLETED" WIP/completed/

# Search for active work
grep -r "ğŸš§ IN PROGRESS" WIP/to_do/

# Search for ideas
grep -r "ğŸ’¡ IDEA" WIP/ideas/
```

---

## ğŸ“š Document Templates

### Implementation Plan Template

File: `WIP/to_do/{FEATURE}_IMPLEMENTATION_PLAN.md`

```markdown
# {Feature} Implementation Plan

**Status**: ğŸ“‹ PLANNED
**Priority**: HIGH | MEDIUM | LOW
**Estimated Effort**: X hours/days
**Created**: YYYY-MM-DD
**Target Version**: vX.Y.Z

---

## Overview
Brief description of what and why

## Current State
What exists today

## Goals
- [ ] Must have goal 1
- [ ] Must have goal 2

## Implementation Phases
### Phase 1: {Name}
- [ ] Task 1
- [ ] Task 2

## Testing Strategy
How we verify success

## Documentation Updates
What needs updating

---

**Implementation Notes**:
- YYYY-MM-DD: Decision about X
```

### Idea/Proposal Template

File: `WIP/ideas/{FEATURE}_PROPOSAL.md`

```markdown
# {Feature} Proposal

**Status**: ğŸ’¡ IDEA
**Created**: YYYY-MM-DD
**Estimated Effort**: X weeks

---

## Problem Statement
What problem does this solve?

## Proposed Solution
High-level approach

## Why This Matters
Business value and impact

## Potential Challenges
Known risks and concerns

## Similar Work
Reference to related docs or projects

## Next Steps
What needs to happen to move forward

---

**Notes**:
- Idea sparked from: {context}
```

---

## ğŸš¨ Common Mistakes to Avoid

1. **Creating duplicate docs** - Search first!
2. **Leaving docs in wrong folder** - Move completed work immediately
3. **Forgetting to update status** - Status should always reflect reality
4. **No cross-references** - Link to related docs
5. **Incomplete completion** - Don't mark complete if TODOs remain
6. **Creating plan without user request** - Only create plans when needed
7. **Overly detailed ideas** - Ideas can be brief; details come later

---

## ğŸ“ Examples of Good Behavior

### âœ… Good: Starting Feature Work

```
User: "Let's implement async support"
Agent: 
  1. Searches WIP/to_do/ and finds ASYNC_IMPLEMENTATION_PLAN.md
  2. Reads the plan
  3. Updates status from ğŸ“‹ PLANNED to ğŸš§ IN PROGRESS
  4. Begins implementation, checking off tasks
```

### âœ… Good: Completing Work

```
Agent completes async implementation:
  1. Checks off final tasks in plan
  2. Updates header: **Status**: âœ… COMPLETED, **Completed**: 2026-01-26
  3. Moves file: WIP/to_do/ â†’ WIP/completed/
  4. Updates CHANGELOG.md with user-facing changes
  5. Commits with reference to plan
```

### âœ… Good: Recording Idea

```
User: "Would be nice to support GraphQL someday"
Agent:
  1. Creates WIP/ideas/GRAPHQL_PROPOSAL.md
  2. Sets status: ğŸ’¡ IDEA
  3. Documents why it would be valuable
  4. Notes it's a future enhancement
  5. Doesn't create full implementation plan yet
```

### âŒ Bad: Creating Duplicate Plan

```
Agent sees user request for feature X:
  - Immediately creates new plan without searching
  - Doesn't notice WIP/to_do/FEATURE_X_PLAN.md already exists
  - Result: Duplicate plans, confusion
```

### âŒ Bad: Marking Incomplete as Complete

```
Agent finishes 80% of work:
  - Marks plan as âœ… COMPLETED
  - Moves to WIP/completed/
  - Leaves 3 TODO items unchecked
  - Result: Incomplete work appears done
```

---

## ğŸ”„ Workflow Integration

### In Chat Context

When you see conversation history mentioning:
- "implementation plan"
- "we completed X"
- "let's start working on Y"

**You must**:
1. Search WIP/ folders for related docs
2. Update or create appropriate documents
3. Keep status markers current

### After File Operations

When you:
- Create new features
- Fix bugs
- Refactor code

**You should**:
1. Reference the related plan in WIP/to_do/
2. Check off completed tasks
3. Add implementation notes
4. Move to completed/ when done

---

## ğŸ“Š Self-Check Questions

Before ending your turn, ask yourself:

- [ ] Did I search for existing docs before creating new ones?
- [ ] Are all status markers accurate?
- [ ] Did I move completed work to the right folder?
- [ ] Are implementation notes added for key decisions?
- [ ] Is the CHANGELOG.md updated for user-facing changes?
- [ ] Are cross-references between docs maintained?

---

**This is a living document**: As workflows evolve, update this file to reflect best practices.

**Last Updated**: 2026-01-26
