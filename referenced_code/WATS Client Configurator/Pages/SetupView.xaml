<UserControl x:Class="Virinco.WATS.Client.Configurator.Pages.SetupView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:vm="clr-namespace:Virinco.WATS.Client.Configurator.ViewModel"
             xmlns:res="clr-namespace:Virinco.WATS.Client.Configurator.Resources"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="420" Loaded="UserControl_Loaded" >
    <DockPanel LastChildFill="True">
        <TextBlock DockPanel.Dock="Top" Margin="3" Text="Setup" Style="{StaticResource ConfigPageHeader}"/>
        <ScrollViewer DockPanel.Dock="Bottom" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="3,0,30,0">
                <Grid Margin="3,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="10" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="10" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" VerticalAlignment="Center" Text="Computer name" Style="{StaticResource SectionLabel}" />
                    <TextBox Grid.Row="0" Grid.Column="2" DataContext="{Binding}" Text="{Binding Path=Config.MachineName, Mode=OneWay}" IsReadOnly="True" IsTabStop="False" />
                    <TextBlock Grid.Row="2" Grid.Column="2" Text="Computer name is the Windows name, it is used as station name in reports by default, unless it is overwritten in the report. The name must be edited in Windows." TextWrapping="Wrap" Style="{StaticResource ConfigDescription}" />

                    <TextBlock Grid.Row="4" Grid.Column="0" VerticalAlignment="Center" Text="{x:Static res:Strings.Cfg_Gen_Gen_Loc_Name}" Style="{StaticResource SectionLabel}" />
                    <TextBox Grid.Row="4" Grid.Column="2" Height="32" Text="{Binding Path=Location, UpdateSourceTrigger=PropertyChanged}" />
                    <TextBlock Grid.Row="6" Grid.Column="0" VerticalAlignment="Center" Text="{x:Static res:Strings.Cfg_Gen_Gen_Pur_Name}" Style="{StaticResource SectionLabel}" />
                    <TextBox Grid.Row="6" Grid.Column="2" Text="{Binding Path=Purpose, UpdateSourceTrigger=PropertyChanged}" />
                    <TextBlock Grid.Row="8" Grid.Column="2" Text="{x:Static res:Strings.Cfg_Gen_Gen_LocPur_Description}" TextWrapping="Wrap" Style="{StaticResource ConfigDescription}" />

                    <TextBlock Grid.Row="10" Grid.Column="0" VerticalAlignment="Center" Text="Account / Server" Style="{StaticResource SectionLabel}" />
                    <TextBox Grid.Row="10" Grid.Column="2" Text="{Binding Path=ServiceAddress, UpdateSourceTrigger=PropertyChanged}" Name="serviceAddressTextbox" />
                    <TextBlock Grid.Row="12" Grid.Column="2" Text="{x:Static res:Strings.Cfg_Gen_Gen_Server_Url_Text}" TextWrapping="Wrap" Style="{StaticResource ConfigDescription}" />

                    <TextBlock Grid.Row="14" Grid.Column="0" VerticalAlignment="Center" Text="Username" Style="{StaticResource SectionLabel}" FontSize="12" />
                    <TextBox Grid.Row="14" Grid.Column="2" Text="{Binding Path=UserName, UpdateSourceTrigger=PropertyChanged}" />

                    <TextBlock Grid.Row="16" Grid.Column="0" VerticalAlignment="Center" Text="Password" Style="{StaticResource SectionLabel}" />
                    <PasswordBox Grid.Row="16" Grid.Column="2" Password="" PasswordChar="*" Name="passwordTextbox"/>

                    <Button Grid.Row="18" Grid.Column="2" Content="Connect" IsDefault="True" Command="{Binding Path=ConnectCommand}" CommandParameter="{Binding ElementName=passwordTextbox}" HorizontalAlignment="Left" Width="80" />
                    <Button Grid.Row="18" Grid.Column="2" Content="New customer" Command="{Binding Path=NewCustomerCommand}" HorizontalAlignment="Right" Width="110" />
                </Grid>
                <Expander Header="{x:Static res:Strings.Cfg_AdvOptText}" Margin="0,15,0,0">
                    <StackPanel Orientation="Vertical">
                        <Grid Margin="5,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="15" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="15" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"  />
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Use custom identifier" />
                            <CheckBox Grid.Row="0" Grid.Column="2" VerticalAlignment="Top" IsChecked="{Binding UseCustomIdentifier}" Style="{StaticResource CheckBoxStyle}"/>
                            <TextBlock Grid.Row="0" Grid.RowSpan="2" Grid.Column="4" TextWrapping="Wrap" Text="Use a custom identifier instead of the MAC Address of the IP Interface. Take care to use a unique identifier for each WATS Client." Style="{StaticResource ConfigDescription}" />
                        </Grid>

                        <Grid Margin="5,5,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="5" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"  />
                                <RowDefinition Height="5"  />
                                <RowDefinition Height="Auto"  />
                                <RowDefinition Height="Auto"  />
                            </Grid.RowDefinitions>

                            <TextBox Grid.Row="0" Grid.Column="0" Text="{Binding CustomIdentifier}" IsEnabled="{Binding UseCustomIdentifier}" />
                            <Button Grid.Row="0" Grid.Column="2" Content="Generate" Command="{Binding GenerateCustomIdentifierCommand}" IsEnabled="{Binding UseCustomIdentifier}" Width="80" />
                            <TextBlock Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="3" TextWrapping="Wrap" Text="NB! Change this when cloning machines!" Style="{StaticResource ConfigDescription}" />
                        </Grid>
                    </StackPanel>
                </Expander>
            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</UserControl>
